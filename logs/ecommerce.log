2022-07-28 23:43:33,376 INFO c.e.a.EcommerceApplication [main] Starting EcommerceApplication using Java 18 on Lamas-MacBook-Pro.local with PID 57360 (/Users/lamamyf/Desktop/eCommerce-App/target/classes started by lamamyf in /Users/lamamyf/Desktop/eCommerce-App)
2022-07-28 23:43:33,382 INFO c.e.a.EcommerceApplication [main] No active profile set, falling back to 1 default profile: "default"
2022-07-28 23:43:34,812 DEBUG o.h.SQL [main] drop table if exists cart CASCADE 
2022-07-28 23:43:34,813 DEBUG o.h.SQL [main] drop table if exists cart_items CASCADE 
2022-07-28 23:43:34,813 DEBUG o.h.SQL [main] drop table if exists item CASCADE 
2022-07-28 23:43:34,814 DEBUG o.h.SQL [main] drop table if exists user_order CASCADE 
2022-07-28 23:43:34,814 DEBUG o.h.SQL [main] drop table if exists user_order_items CASCADE 
2022-07-28 23:43:34,814 DEBUG o.h.SQL [main] drop table if exists users CASCADE 
2022-07-28 23:43:34,815 DEBUG o.h.SQL [main] create table cart (id bigint generated by default as identity, total numeric(19,2), primary key (id))
2022-07-28 23:43:34,818 DEBUG o.h.SQL [main] create table cart_items (cart_id bigint not null, items_id bigint not null)
2022-07-28 23:43:34,819 DEBUG o.h.SQL [main] create table item (id bigint generated by default as identity, description varchar(255) not null, name varchar(255) not null, price numeric(19,2) not null, primary key (id))
2022-07-28 23:43:34,819 DEBUG o.h.SQL [main] create table user_order (id bigint generated by default as identity, total numeric(19,2), user_id bigint not null, primary key (id))
2022-07-28 23:43:34,820 DEBUG o.h.SQL [main] create table user_order_items (user_order_id bigint not null, items_id bigint not null)
2022-07-28 23:43:34,821 DEBUG o.h.SQL [main] create table users (id bigint generated by default as identity, password varchar(255), username varchar(255) not null, cart_id bigint, primary key (id))
2022-07-28 23:43:34,821 DEBUG o.h.SQL [main] alter table users add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2022-07-28 23:43:34,822 DEBUG o.h.SQL [main] alter table cart_items add constraint FKbgmrxyvqs3kxt1im75fde3psy foreign key (items_id) references item
2022-07-28 23:43:34,827 DEBUG o.h.SQL [main] alter table cart_items add constraint FK99e0am9jpriwxcm6is7xfedy3 foreign key (cart_id) references cart
2022-07-28 23:43:34,828 DEBUG o.h.SQL [main] alter table user_order add constraint FKbbwlke5ei3gh1ki65yiiojmck foreign key (user_id) references users
2022-07-28 23:43:34,828 DEBUG o.h.SQL [main] alter table user_order_items add constraint FKghpu6f1jrpho0deyeltq47u2u foreign key (items_id) references item
2022-07-28 23:43:34,829 DEBUG o.h.SQL [main] alter table user_order_items add constraint FKt6k533isn84ef898d6sln1xna foreign key (user_order_id) references user_order
2022-07-28 23:43:34,830 DEBUG o.h.SQL [main] alter table users add constraint FKqmifheg6lnigfifvlmpjnuny8 foreign key (cart_id) references cart
2022-07-28 23:43:35,368 INFO c.e.a.EcommerceApplication [main] Started EcommerceApplication in 2.159 seconds (JVM running for 7.614)
2022-07-28 23:43:35,369 INFO c.e.a.EcommerceApplication [main] eCommerce Application Started
2022-07-28 23:43:38,925 DEBUG o.h.SQL [http-nio-8080-exec-1] insert into cart (id, total) values (default, ?)
2022-07-28 23:43:39,026 DEBUG o.h.SQL [http-nio-8080-exec-1] insert into users (id, cart_id, password, username) values (default, ?, ?, ?)
2022-07-28 23:43:39,027 INFO c.e.a.c.UserController [http-nio-8080-exec-1] New user: created lama.
2022-07-28 23:43:49,200 DEBUG o.h.SQL [http-nio-8080-exec-3] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username=?
2022-07-28 23:47:23,648 DEBUG o.h.SQL [http-nio-8080-exec-8] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username is null
2022-07-28 23:47:23,649 ERROR c.e.a.s.CartService [http-nio-8080-exec-8] User not found for given username null
2022-07-28 23:47:41,293 DEBUG o.h.SQL [http-nio-8080-exec-9] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username=?
2022-07-28 23:47:41,303 DEBUG o.h.SQL [http-nio-8080-exec-9] select item0_.id as id1_2_0_, item0_.description as descript2_2_0_, item0_.name as name3_2_0_, item0_.price as price4_2_0_ from item item0_ where item0_.id=?
2022-07-28 23:47:41,309 DEBUG o.h.SQL [http-nio-8080-exec-9] select cart0_.id as id1_0_0_, cart0_.total as total2_0_0_, user1_.id as id1_5_1_, user1_.cart_id as cart_id4_5_1_, user1_.password as password2_5_1_, user1_.username as username3_5_1_ from cart cart0_ left outer join users user1_ on cart0_.id=user1_.cart_id where cart0_.id=?
2022-07-28 23:47:41,316 DEBUG o.h.SQL [http-nio-8080-exec-9] select items0_.cart_id as cart_id1_1_0_, items0_.items_id as items_id2_1_0_, item1_.id as id1_2_1_, item1_.description as descript2_2_1_, item1_.name as name3_2_1_, item1_.price as price4_2_1_ from cart_items items0_ inner join item item1_ on items0_.items_id=item1_.id where items0_.cart_id=?
2022-07-28 23:47:41,318 INFO c.e.a.s.CartService [http-nio-8080-exec-9] Item 1 added to cart 1
2022-07-28 23:47:41,318 INFO c.e.a.s.CartService [http-nio-8080-exec-9] Item 1 added to cart 1
2022-07-28 23:47:41,322 DEBUG o.h.SQL [http-nio-8080-exec-9] update cart set total=? where id=?
2022-07-28 23:47:41,324 DEBUG o.h.SQL [http-nio-8080-exec-9] insert into cart_items (cart_id, items_id) values (?, ?)
2022-07-28 23:47:41,324 DEBUG o.h.SQL [http-nio-8080-exec-9] insert into cart_items (cart_id, items_id) values (?, ?)
2022-07-28 23:49:25,450 DEBUG o.h.SQL [http-nio-8080-exec-1] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username=?
2022-07-28 23:49:25,452 DEBUG o.h.SQL [http-nio-8080-exec-1] select cart0_.id as id1_0_0_, cart0_.total as total2_0_0_, user1_.id as id1_5_1_, user1_.cart_id as cart_id4_5_1_, user1_.password as password2_5_1_, user1_.username as username3_5_1_ from cart cart0_ left outer join users user1_ on cart0_.id=user1_.cart_id where cart0_.id=?
2022-07-28 23:49:25,453 DEBUG o.h.SQL [http-nio-8080-exec-1] select items0_.cart_id as cart_id1_1_0_, items0_.items_id as items_id2_1_0_, item1_.id as id1_2_1_, item1_.description as descript2_2_1_, item1_.name as name3_2_1_, item1_.price as price4_2_1_ from cart_items items0_ inner join item item1_ on items0_.items_id=item1_.id where items0_.cart_id=?
2022-07-28 23:49:25,457 DEBUG o.h.SQL [http-nio-8080-exec-1] insert into user_order (id, total, user_id) values (default, ?, ?)
2022-07-28 23:49:25,460 DEBUG o.h.SQL [http-nio-8080-exec-1] insert into user_order_items (user_order_id, items_id) values (?, ?)
2022-07-28 23:49:25,461 DEBUG o.h.SQL [http-nio-8080-exec-1] insert into user_order_items (user_order_id, items_id) values (?, ?)
2022-07-28 23:49:25,461 INFO c.e.a.s.OrderService [http-nio-8080-exec-1] New order submitted: 1
2022-07-28 23:49:40,311 DEBUG o.h.SQL [http-nio-8080-exec-3] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username=?
2022-07-28 23:49:40,317 ERROR c.e.a.s.OrderService [http-nio-8080-exec-3] User not found for given username zz
2022-07-28 23:49:59,096 DEBUG o.h.SQL [http-nio-8080-exec-4] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username=?
2022-07-28 23:49:59,100 DEBUG o.h.SQL [http-nio-8080-exec-4] select userorder0_.id as id1_3_, userorder0_.total as total2_3_, userorder0_.user_id as user_id3_3_ from user_order userorder0_ where userorder0_.user_id=?
2022-07-28 23:49:59,102 INFO c.e.a.s.OrderService [http-nio-8080-exec-4] Number of orders for user : lama is 1
2022-07-28 23:49:59,107 DEBUG o.h.SQL [http-nio-8080-exec-4] select items0_.user_order_id as user_ord1_4_0_, items0_.items_id as items_id2_4_0_, item1_.id as id1_2_1_, item1_.description as descript2_2_1_, item1_.name as name3_2_1_, item1_.price as price4_2_1_ from user_order_items items0_ inner join item item1_ on items0_.items_id=item1_.id where items0_.user_order_id=?
2022-07-28 23:49:59,109 DEBUG o.h.SQL [http-nio-8080-exec-4] select cart0_.id as id1_0_0_, cart0_.total as total2_0_0_, user1_.id as id1_5_1_, user1_.cart_id as cart_id4_5_1_, user1_.password as password2_5_1_, user1_.username as username3_5_1_ from cart cart0_ left outer join users user1_ on cart0_.id=user1_.cart_id where cart0_.id=?
2022-07-28 23:49:59,110 DEBUG o.h.SQL [http-nio-8080-exec-4] select items0_.cart_id as cart_id1_1_0_, items0_.items_id as items_id2_1_0_, item1_.id as id1_2_1_, item1_.description as descript2_2_1_, item1_.name as name3_2_1_, item1_.price as price4_2_1_ from cart_items items0_ inner join item item1_ on items0_.items_id=item1_.id where items0_.cart_id=?
2022-07-28 23:50:10,451 DEBUG o.h.SQL [http-nio-8080-exec-6] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username=?
2022-07-28 23:50:10,452 ERROR c.e.a.s.OrderService [http-nio-8080-exec-6] User not found for given username lamza
2022-07-28 23:51:12,189 DEBUG o.h.SQL [http-nio-8080-exec-9] select item0_.id as id1_2_, item0_.description as descript2_2_, item0_.name as name3_2_, item0_.price as price4_2_ from item item0_
2022-07-28 23:51:12,192 INFO c.e.a.c.ItemController [http-nio-8080-exec-9] getItems: 2
2022-07-28 23:51:17,558 DEBUG o.h.SQL [http-nio-8080-exec-10] select item0_.id as id1_2_0_, item0_.description as descript2_2_0_, item0_.name as name3_2_0_, item0_.price as price4_2_0_ from item item0_ where item0_.id=?
2022-07-28 23:51:21,187 DEBUG o.h.SQL [http-nio-8080-exec-2] select item0_.id as id1_2_0_, item0_.description as descript2_2_0_, item0_.name as name3_2_0_, item0_.price as price4_2_0_ from item item0_ where item0_.id=?
2022-07-28 23:51:21,187 ERROR c.e.a.c.ItemController [http-nio-8080-exec-2] Item not found for given itemId 222
2022-07-28 23:51:56,220 DEBUG o.h.SQL [http-nio-8080-exec-5] select item0_.id as id1_2_, item0_.description as descript2_2_, item0_.name as name3_2_, item0_.price as price4_2_ from item item0_ where item0_.name=?
2022-07-28 23:52:03,504 DEBUG o.h.SQL [http-nio-8080-exec-4] select item0_.id as id1_2_, item0_.description as descript2_2_, item0_.name as name3_2_, item0_.price as price4_2_ from item item0_ where item0_.name=?
2022-07-28 23:52:03,505 ERROR c.e.a.c.ItemController [http-nio-8080-exec-4] Items not found for given itemName Squareff
2022-07-28 23:53:31,970 ERROR c.e.a.c.UserController [http-nio-8080-exec-8] User emptysoul not created because of invalid password
2022-07-29 00:05:11,124 DEBUG o.h.SQL [http-nio-8080-exec-9] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username=?
2022-07-29 00:05:11,127 ERROR c.e.a.s.UserService [http-nio-8080-exec-9] UsernameNotFoundException, user not found for given username blue
2022-07-29 00:05:36,526 DEBUG o.h.SQL [http-nio-8080-exec-2] select user0_.id as id1_5_, user0_.cart_id as cart_id4_5_, user0_.password as password2_5_, user0_.username as username3_5_ from users user0_ where user0_.username=?
2022-07-29 00:05:36,527 ERROR c.e.a.s.UserService [http-nio-8080-exec-2] UsernameNotFoundException, user not found for given username sunflower
2022-07-29 05:24:13,861 DEBUG o.h.SQL [SpringApplicationShutdownHook] drop table if exists cart CASCADE 
2022-07-29 05:24:13,864 DEBUG o.h.SQL [SpringApplicationShutdownHook] drop table if exists cart_items CASCADE 
2022-07-29 05:24:13,865 DEBUG o.h.SQL [SpringApplicationShutdownHook] drop table if exists item CASCADE 
2022-07-29 05:24:13,865 DEBUG o.h.SQL [SpringApplicationShutdownHook] drop table if exists user_order CASCADE 
2022-07-29 05:24:13,865 DEBUG o.h.SQL [SpringApplicationShutdownHook] drop table if exists user_order_items CASCADE 
2022-07-29 05:24:13,865 DEBUG o.h.SQL [SpringApplicationShutdownHook] drop table if exists users CASCADE 
